#New project Installation

##Create a new repository
1. Go on [http://gitlab.fullsix.com](http://gitlab.fullsix.com) and create a **new Git repository**.
2. **Clone** the new repository on the local working space.
3. Create a new `.gitignore` file to manage default behaviour.

##Install *Bower* components (it's a low-level node module)
If **Bower** is not yet installed on your system, install it with the command line: `npm install bower -g`, then use it to install bower components: `bower install [component-name] --save-dev` such as jQuery, inuitCSS, Modernizr, etc.:

* `bower install jquery --save-dev`
* `bower install inuit.css --save-dev`
* ...

**Warning**  
A check is needed into the inuit.css component: It appears that to date, a missing property in the .bower.json causes problems in further Brunch actions. To correct it:

* edit `\bower_components\inuit.css\.bower.json`,
* if missing, add the `"main": "_inuit.scss",` line as first line into the first curly brace.

And save your work with `bower init` (creates the bower.json file).

##Install other node modules
First, create the **package.json** file to manage future node modules and answer to a few questions to store info about your project:

* `npm init`
* Name, version and description of your project,
* Leave the rest to default.

###Brunch
1. `npm install brunch --save-dev` (Installs **Brunch** module -*required*),
2. `npm install javascript-brunch` (Adds **JavaScript** support to Brunch -*required*),
3. `npm install css-brunch` (Adds **CSS** support to Brunch -*required*),
4. `npm install sass-brunch` (Adds **Sass** support to Brunch -*required*),
5. `npm install auto-reload-brunch` (Adds automatic **browser reloading** support to Brunch -*optional*),
6. `npm install uglify-js-brunch` (Adds **UglifyJS** support to Brunch -*optional*),
7. `npm install sprite-brunch` (Adds **sprites generation** capacities to Brunch -*optional*)...
8. edit the `config.js` or `config.coffee` file to describe what you want **Brunch** to do.

##Local server settings
When using your local http server, create a domain related to the project:

1. Create a virtual host by editing `apache/conf/extra/httpd-vhosts.conf`:
<pre>
    &lt;VirtualHost *:80>
         DocumentRoot "C:\wamp\www\the-project-directory\site-root-directory"
         ServerName project-name.local.f6.fr
    &lt;/VirtualHost>
</pre>
2. Ask your system to catch this domain by editing the `hosts` file (`c:\windows\system32\drivers\etc\`):
<pre>
    127.0.0.1 other-project.local.f6.fr
    127.0.0.1 project-name.local.f6.fr
</pre>

##File tree
**Brunch** uses a default file tree as follows:

- app
	- assets
	- scripts
	- scss
- public
- vendor
	- scripts
	- styles

###/app
This directory is your working directory
####/app/assets
The content of this directory will simply be copied into the **/public** directory as-is. It can be seen as a mirror of the public directory. Everything you need to put into the public directory and that does not need to be treated by **Brunch** shall be put here.

If you need the find `/public/images/my-image.jpg`, you must have `/app/assets/images/my-image.jpg`. Even if you need to add a file into a directory that is treated by **Brunch** (like the CSS directory: if you need the find `/public/css/images/my-css-image.jpg`, you must have `/app/assets/css/images/my-css-image.jpg`.

So you will often find yourself with something like this:

- app
	- assets
		- css
			- fonts
			- images
		- images
		- includes-html
		- uploads
		- ...

####/app/scripts
This directory is intended to receive all your javascript files. Everything you put here will be compiled in one single **main.js** that will be copied in **/public/js/main.js**.

###/public
This directory is the effective website directory, **do not work here!**. Everything in this directory is generated by **Brunch** and thus can be overriden at any time.

###/vendor
This directory receives all the vendor files you wish to include in your code that are **NOT handled by Bower**. All javascripts files put in there will be compiled in one single **vendor.js** that will be copied in **/public/js/vendor.js**. Note that the vendor files handled by **Bower** will also be compiled in the same file but *before* the others.

##Work now!
To launch **Brunch**, type `brunch watch --server` in the command line. This will initiate Brunch and make it automatically update the styles and scripts, generate sprites (if available), reload the browser (if available)...

##Publication
`brunch build`.

`brunch build --production`.
